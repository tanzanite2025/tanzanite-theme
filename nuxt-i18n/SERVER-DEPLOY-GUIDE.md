# æœåŠ¡å™¨éƒ¨ç½²æŒ‡å— - Nuxt I18N Widget

## ğŸ“¦ å·²ç”Ÿæˆéƒ¨ç½²åŒ…

**æ–‡ä»¶ä½ç½®**ï¼š`widget-deploy.tar.gz`  
**åŒ…å«å†…å®¹**ï¼šæ‰€æœ‰ 12 ç§è¯­è¨€çš„é™æ€é¡µé¢ + èµ„æºæ–‡ä»¶

---

## ğŸš€ éƒ¨ç½²æ–¹å¼ï¼ˆé€‰æ‹©å…¶ä¸€ï¼‰

### **æ–¹å¼ 1ï¼šFTP/SFTP ä¸Šä¼ ï¼ˆæ¨èï¼‰**

#### ä½¿ç”¨ FileZilla æˆ–å…¶ä»– FTP å·¥å…·ï¼š

1. **è¿æ¥åˆ°æœåŠ¡å™¨**
   - ä¸»æœºï¼šä½ çš„æœåŠ¡å™¨ IP æˆ–åŸŸå
   - ç”¨æˆ·åï¼šFTP ç”¨æˆ·å
   - å¯†ç ï¼šFTP å¯†ç 
   - ç«¯å£ï¼š21 (FTP) æˆ– 22 (SFTP)

2. **å®šä½åˆ° WordPress æ ¹ç›®å½•**
   ```
   /public_html/          ï¼ˆæˆ–ï¼‰
   /www/                  ï¼ˆæˆ–ï¼‰
   /htdocs/               ï¼ˆæˆ–ï¼‰
   /ä½ çš„åŸŸå/
   ```

3. **åˆ›å»º widget æ–‡ä»¶å¤¹**
   - åœ¨ WordPress æ ¹ç›®å½•ä¸‹åˆ›å»º `widget` æ–‡ä»¶å¤¹
   - å®Œæ•´è·¯å¾„ç¤ºä¾‹ï¼š`/public_html/widget/`

4. **ä¸Šä¼ æ–‡ä»¶**
   - è§£å‹æœ¬åœ°çš„ `widget-deploy.tar.gz`
   - å°† `.output/public/` å†…çš„**æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹**ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„ `/widget/` ç›®å½•

5. **æœ€ç»ˆæœåŠ¡å™¨ç»“æ„**
   ```
   /public_html/
   â”œâ”€â”€ wp-admin/
   â”œâ”€â”€ wp-content/
   â”œâ”€â”€ wp-includes/
   â”œâ”€â”€ widget/                    â† æ–°å»ºçš„æ–‡ä»¶å¤¹
   â”‚   â”œâ”€â”€ _nuxt/                â† èµ„æºæ–‡ä»¶
   â”‚   â”œâ”€â”€ ar/                   â† é˜¿æ‹‰ä¼¯è¯­
   â”‚   â”œâ”€â”€ da/                   â† ä¸¹éº¦è¯­
   â”‚   â”œâ”€â”€ de/                   â† å¾·è¯­
   â”‚   â”œâ”€â”€ es/                   â† è¥¿ç­ç‰™è¯­
   â”‚   â”œâ”€â”€ fi/                   â† èŠ¬å…°è¯­
   â”‚   â”œâ”€â”€ fr/                   â† æ³•è¯­
   â”‚   â”œâ”€â”€ it/                   â† æ„å¤§åˆ©è¯­
   â”‚   â”œâ”€â”€ ja/                   â† æ—¥è¯­
   â”‚   â”œâ”€â”€ ko/                   â† éŸ©è¯­
   â”‚   â”œâ”€â”€ pt/                   â† è‘¡è„ç‰™è¯­
   â”‚   â”œâ”€â”€ ru/                   â† ä¿„è¯­
   â”‚   â”œâ”€â”€ th/                   â† æ³°è¯­
   â”‚   â”œâ”€â”€ .htaccess             â† é‡è¦ï¼
   â”‚   â”œâ”€â”€ 200.html
   â”‚   â”œâ”€â”€ 404.html
   â”‚   â”œâ”€â”€ favicon.ico
   â”‚   â””â”€â”€ robots.txt
   â”œâ”€â”€ index.php
   â””â”€â”€ wp-config.php
   ```

---

### **æ–¹å¼ 2ï¼šSSH å‘½ä»¤è¡Œéƒ¨ç½²**

å¦‚æœä½ æœ‰ SSH è®¿é—®æƒé™ï¼š

```bash
# 1. ä¸Šä¼ å‹ç¼©åŒ…åˆ°æœåŠ¡å™¨
scp widget-deploy.tar.gz ç”¨æˆ·å@æœåŠ¡å™¨IP:/tmp/

# 2. SSH ç™»å½•æœåŠ¡å™¨
ssh ç”¨æˆ·å@æœåŠ¡å™¨IP

# 3. è¿›å…¥ WordPress æ ¹ç›®å½•
cd /public_html/  # æˆ–ä½ çš„å®é™…è·¯å¾„

# 4. åˆ›å»º widget ç›®å½•
mkdir -p widget

# 5. è§£å‹æ–‡ä»¶
tar -xzf /tmp/widget-deploy.tar.gz -C widget/

# 6. è®¾ç½®æƒé™
chmod -R 755 widget/
chown -R www-data:www-data widget/  # æ ¹æ®æœåŠ¡å™¨é…ç½®è°ƒæ•´

# 7. æ¸…ç†ä¸´æ—¶æ–‡ä»¶
rm /tmp/widget-deploy.tar.gz
```

---

### **æ–¹å¼ 3ï¼šcPanel æ–‡ä»¶ç®¡ç†å™¨**

1. **ç™»å½• cPanel**
   - è®¿é—®ï¼š`https://ä½ çš„åŸŸå:2083`

2. **æ‰“å¼€æ–‡ä»¶ç®¡ç†å™¨**
   - æ‰¾åˆ° "æ–‡ä»¶" â†’ "æ–‡ä»¶ç®¡ç†å™¨"

3. **å®šä½åˆ° public_html**
   - è¿›å…¥ WordPress æ ¹ç›®å½•

4. **ä¸Šä¼ å‹ç¼©åŒ…**
   - ç‚¹å‡» "ä¸Šä¼ "
   - é€‰æ‹© `widget-deploy.tar.gz`

5. **è§£å‹æ–‡ä»¶**
   - å³é”®ç‚¹å‡» `widget-deploy.tar.gz`
   - é€‰æ‹© "Extract"ï¼ˆè§£å‹ï¼‰
   - è§£å‹åˆ° `widget` æ–‡ä»¶å¤¹

6. **è®¾ç½®æƒé™**
   - é€‰ä¸­ `widget` æ–‡ä»¶å¤¹
   - ç‚¹å‡» "æƒé™"
   - è®¾ç½®ä¸º 755

---

## ğŸ” éªŒè¯éƒ¨ç½²

éƒ¨ç½²å®Œæˆåï¼Œè®¿é—®ä»¥ä¸‹ URL æµ‹è¯•ï¼š

### é»˜è®¤è¯­è¨€ï¼ˆæ³•è¯­ï¼‰
```
https://ä½ çš„åŸŸå.com/widget/fr/
```

### å…¶ä»–è¯­è¨€
```
https://ä½ çš„åŸŸå.com/widget/de/    # å¾·è¯­
https://ä½ çš„åŸŸå.com/widget/es/    # è¥¿ç­ç‰™è¯­
https://ä½ çš„åŸŸå.com/widget/ja/    # æ—¥è¯­
https://ä½ çš„åŸŸå.com/widget/ko/    # éŸ©è¯­
https://ä½ çš„åŸŸå.com/widget/it/    # æ„å¤§åˆ©è¯­
https://ä½ çš„åŸŸå.com/widget/pt/    # è‘¡è„ç‰™è¯­
https://ä½ çš„åŸŸå.com/widget/ru/    # ä¿„è¯­
https://ä½ çš„åŸŸå.com/widget/ar/    # é˜¿æ‹‰ä¼¯è¯­
https://ä½ çš„åŸŸå.com/widget/fi/    # èŠ¬å…°è¯­
https://ä½ çš„åŸŸå.com/widget/da/    # ä¸¹éº¦è¯­
https://ä½ çš„åŸŸå.com/widget/th/    # æ³°è¯­
```

---

## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹

### 1. **.htaccess æ–‡ä»¶**
ç¡®ä¿ `widget/.htaccess` æ–‡ä»¶å·²ä¸Šä¼ ï¼Œå†…å®¹åº”è¯¥æ˜¯ï¼š
```apache
# å·²åŒ…å«åœ¨æ„å»ºäº§ç‰©ä¸­
RewriteEngine On
RewriteBase /widget/
# ... å…¶ä»–è§„åˆ™
```

### 2. **æ–‡ä»¶æƒé™**
- æ–‡ä»¶å¤¹ï¼š755
- æ–‡ä»¶ï¼š644
- å¦‚æœæƒé™ä¸å¯¹ï¼Œè¿è¡Œï¼š
  ```bash
  find widget/ -type d -exec chmod 755 {} \;
  find widget/ -type f -exec chmod 644 {} \;
  ```

### 3. **URL é‡å†™**
å¦‚æœé¡µé¢æ˜¾ç¤º 404ï¼Œæ£€æŸ¥ WordPress æ ¹ç›®å½•çš„ `.htaccess`ï¼š
```apache
# WordPress .htaccess
RewriteEngine On
RewriteBase /

# å…è®¸ widget ç›®å½•
RewriteCond %{REQUEST_URI} !^/widget/

# WordPress è§„åˆ™
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
```

### 4. **CDN/ç¼“å­˜**
å¦‚æœä½¿ç”¨äº† CDN æˆ–ç¼“å­˜æ’ä»¶ï¼š
- æ¸…é™¤ CDN ç¼“å­˜
- æ¸…é™¤ WordPress ç¼“å­˜
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

---

## ğŸ”„ æ›´æ–°éƒ¨ç½²

å½“éœ€è¦æ›´æ–° widget æ—¶ï¼š

```bash
# 1. æœ¬åœ°é‡æ–°æ„å»º
cd nuxt-i18n-widget
npm run generate

# 2. é‡æ–°æ‰“åŒ…
tar -czf widget-deploy.tar.gz -C .output/public .

# 3. ä¸Šä¼ å¹¶è¦†ç›–æœåŠ¡å™¨æ–‡ä»¶
# ä½¿ç”¨ä¸Šè¿°ä»»ä¸€æ–¹å¼é‡æ–°éƒ¨ç½²
```

---

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q1: è®¿é—®æ˜¾ç¤º 404
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æ­£ç¡®ä¸Šä¼ åˆ° `/widget/` ç›®å½•
2. æ£€æŸ¥ `.htaccess` æ–‡ä»¶æ˜¯å¦å­˜åœ¨
3. æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦å¯ç”¨äº† mod_rewrite

### Q2: æ ·å¼ä¸¢å¤±æˆ–èµ„æºåŠ è½½å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ `_nuxt/` æ–‡ä»¶å¤¹æ˜¯å¦å®Œæ•´ä¸Šä¼ 
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯
3. ç¡®è®¤ `baseURL: '/widget/'` é…ç½®æ­£ç¡®

### Q3: è¯­è¨€åˆ‡æ¢ä¸å·¥ä½œ
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥æ‰€æœ‰è¯­è¨€æ–‡ä»¶å¤¹ï¼ˆar, da, de, es...ï¼‰æ˜¯å¦éƒ½å·²ä¸Šä¼ 
2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
3. æ£€æŸ¥æœåŠ¡å™¨ URL é‡å†™è§„åˆ™

### Q4: æƒé™é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# SSH ç™»å½•åæ‰§è¡Œ
cd /public_html/
chmod -R 755 widget/
chown -R www-data:www-data widget/
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æœåŠ¡å™¨é”™è¯¯æ—¥å¿—ï¼š`/var/log/apache2/error.log` æˆ– `/var/log/nginx/error.log`
2. WordPress è°ƒè¯•æ¨¡å¼ï¼šåœ¨ `wp-config.php` ä¸­å¯ç”¨ `WP_DEBUG`
3. æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„ Console å’Œ Network æ ‡ç­¾

---

## âœ… éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [ ] å·²ç”Ÿæˆæ„å»ºäº§ç‰©ï¼ˆ`.output/public/`ï¼‰
- [ ] å·²æ‰“åŒ…ä¸º `widget-deploy.tar.gz`
- [ ] å·²è¿æ¥åˆ°æœåŠ¡å™¨ï¼ˆFTP/SSH/cPanelï¼‰
- [ ] å·²åœ¨ WordPress æ ¹ç›®å½•åˆ›å»º `widget/` æ–‡ä»¶å¤¹
- [ ] å·²ä¸Šä¼ æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹
- [ ] å·²è®¾ç½®æ­£ç¡®çš„æ–‡ä»¶æƒé™ï¼ˆ755/644ï¼‰
- [ ] å·²éªŒè¯è‡³å°‘ä¸€ä¸ªè¯­è¨€ç‰ˆæœ¬å¯è®¿é—®
- [ ] å·²æµ‹è¯•è¯­è¨€åˆ‡æ¢åŠŸèƒ½
- [ ] å·²æ¸…é™¤ç¼“å­˜ï¼ˆCDN/WordPress/æµè§ˆå™¨ï¼‰

---

**éƒ¨ç½²å®Œæˆï¼** ğŸ‰

è®¿é—®ï¼š`https://ä½ çš„åŸŸå.com/widget/fr/` æŸ¥çœ‹æ•ˆæœ
